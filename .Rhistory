if(user_df['age'] >= 20){
print("성인")
} else{
print("미성년자")
}
}
print(user_df(20))
user_df <- data.frame(
id = 1 : 4, # 회원 번호
name = c("해리포터" , "론 위즐리" , "헤르미온느", "덤블도어"),
age = c(17, 16, 17, 60)
)
user_df
# 1) 나이를 인수로 전달받아, 나이가 20살 이상이면 "성인"
# 그게 아니라면 "미성년자"문자열을 반환하는 함수 정의
# 함수명 : is_adult()
is_adult <- function(user_df){
if(user_df['age'] >= 20){
print("성인")
} else{
print("미성년자")
}
}
print(user_df(20))
print(user_df['age'] == 20)
print(user_df['age'] >= 20)
# 1) 나이를 인수로 전달받아, 나이가 20살 이상이면 "성인"
# 그게 아니라면 "미성년자"문자열을 반환하는 함수 정의
# 함수명 : is_adult()
is_adult <- function(age){
if(age >= 20){
return("성인")
} else{
return("미성년자")
}
}
is_adult
is_adult(21)
is_adult(17)
sapply(user_df[, 'age'], is_adult)
user_df <- data.frame(
id = 1 : 4, # 회원 번호
name = c("해리포터" , "론 위즐리" , "헤르미온느", "덤블도어"),
age = c(17, 16, 17, 60)
)
sapply(user_df[, 'age'], is_adult)
user_df[, 'age']
user_df[, 'age'] # age열이 저장된 벡터
sapply(user_df[, 'age'], is_adult)
# 2) user_df에 is_adult()열 추가
# 데이터프레임$추가할 열이름 <- 데이터
user_df$is_adult <- sapply(user_df[, 'age'], is_adult)
user_df
# 데이터프레임 생성
stu.info <- data.frame(
ID = 1 : 3,
NAME = c('둘리', '도우너', '또치'),
AGE = c(10, 9, 11)
)
stu.info
# 데이터프레임을 텍스트 파일로 저장
write.table(stu.info, file = 'stu.txt')
# 데이터프레임을 텍스트 파일로 저장
write.table(stu.info, file = 'stu.txt', quote = FALSE)
# 1) 절대 경로
# 현재 경로 확인
getwd()
# 절대 경로로 memo폴더에 파일 저장
write.table(stu.info, file = 'D:/R_0930_jyw/memo/absolute.txt', quote = FALSE, row.names = FALSE)
# ./ : 현재 내 위치 => getwd()의 경로와 동일
write.table(stu.info, file = './../memo/relative.txt', quote = FALSE, row.names = FALSE)
read_data <- read.table("./stu.txt")
read_data
# 1) csv파일 작성(파일 출력)
write.csv(stu.info, './day07/stu.csv')
# 2) csv파일 읽기
csv_data <- read.csv('./day07/stu.csv')
csv_data
# 2) csv파일 읽기
csv_data <- read.csv('./day07/stu.csv', row.names = 1)
csv_data
# 2) csv파일 읽기
csv_data <- read.csv('./day07/stu.csv', row.names = 1, row.names = FALSE)
csv_data
install.packages('writexl')
library(writexl)
writexl
# 엑셀 파일 day07폴더에 저장
write_xlsx(stu.info, path = './day07/stu.xlsx')
# 패키지 설치 및 로드
install.packages('readxl')
library(readxl)
stu.xlsx
xl_data <- read_excel('./day07/stu.xlsx')
xl_data
# 패키지 설치
install.packages('dplyr')
library(dplyr)
# R의 내장 데이터 셋 불러오기
mtcars
mc <- mtcars # 데이터셋 변수에 저장
View(mc)
# 1) 실린더(cyl)의 개수가 4기통인 자동차만 추출
filter(mc, cyl == 4)
# 2) 실린더가 6기통 이상이고 연비(mpg)가 20보다 큰 자동차만 추출
filter(mc, cyl >= 6, mpg > 20)
select(mc, am, gear) # am, get열 추출
head(select(mc, am, gear))
# head(데이터) : 상위 6개만 확인
head(select(mc, am, gear), 3) <= # 콤마하고 볼 데이터 개수 지정
# arrange() : 데이터를 오름차순 정렬
# (1) wt(무게)열 순으로 오름차순 정렬
arrange(mc, wt)
# (1) wt(무게)열 순으로 오름차순 정렬
arrange(mc, wt)
# (2) mpg(연비)열 순으로 내림차순 정렬
arrange(mc, desc(mpg))
# (3) 내림차순과 오름차순 혼용
arrange(mc, mpg)
# (3) 내림차순과 오름차순 혼용
arrange(mc, mpg, wt)
arrange(mc, mpg, desc(wt))
# mutate(데이터셋, 추가할 열 = 데이터)
mutate(mc, years = '1974')
mc_years = mutate(mc, years = '1974')
# 2) mpg 순위 열 추가
# ** rank() 함수 : R의 내장 함수, 순위를 구할 때 사용
rank(c(10, 11, 12, 13))
rank(c(10, 11, 12, 12))
mutate(mc, mpg_rank = rank(mpg))
mutate(mc, mpg_rank = desc(rank(mpg)))
# 1) cyl(실린더 개수)열의 중복 데이터 제거 후 확인
distinct(mc, cyl)
# 2) 여러 열의 중복 데이터 제거
distinct(mc, cyl, gear)
summaries(mc)
summarise(mc)
# 1) cyl열의 평균, 최대, 최소 값 확인
summarise(mc, cyl_mean = mean(cyl), cyl_min = min(cyl), cyl_max = max(cyl))
# 1) cyl 데이터로 그룹화
gr_cyl <- group_by(mc, cyl)
gr_cyl
View(gr_cyl)
summarise(gr_cyl, n())
# 2) cyl열 그룹마다 gear값이 중복된 데이터를 제외한 개수
summarise(gr_cyl, n_distinct(gear))
# 샘플 데이터 추출
sample_n(mc, 10)
sample_frac(mc, 0.2) # mtcars에서 20% 추출
# 1) cyl별 그룹화 후
gr_cyl <- group_by(mc, cyl)
summarise(gr_cyl, n())
# 2) mutate()로 mpg 순위 추가 후 순위를 기준으로 정렬
mp_rank <- mutate(mc, mpg_rank = rank(mpg))
mp_rank
arrange(mp_rank, mpg_rank)
# 파이프 연산자 사용
mutate(mc, mpg_rank = rank(mpg)) %>% arrange(mpg_rank)
# 1) mtcars 데이터에서 mpg가 20 이상이고 gear가 3인 데이터만 추출
# 데이터 출력(filter() 함수 사용)
filter(mc, mpg >= 20 & gear == 3)
# 2) mtcars 데이터에서 hp(마력) 순위를 저장하는 hp_rank열 추가 후
# hp_rank열 기준으로 오름차순 정렬( %>%  연산자 사용)
mutate(mc, hp_rank = rank(hp))
# 2) mtcars 데이터에서 hp(마력) 순위를 저장하는 hp_rank열 추가 후
# hp_rank열 기준으로 오름차순 정렬( %>%  연산자 사용)
mutate(mc, hp_rank = rank(hp)) %>% arrange(mc, hp_rank)
# 3) mtcars데이터에서 hp열의 평균과 mpg의 중앙값 확인
# (summarise() 사용)
summarise(mc, hp_avg = avg(hp), mpg_median = median(mpg))
# 3) mtcars데이터에서 hp열의 평균과 mpg의 중앙값 확인
# (summarise() 사용)
summarise(mc, mpg_median = median(mpg))
# 3) mtcars데이터에서 hp열의 평균과 mpg의 중앙값 확인
# (summarise() 사용)
summarise(mc, hp_mean = mean(mpg), mpg_median = median(mpg))
# 1) mtcars 데이터에서 mpg가 20 이상이고 gear가 3인 데이터만 추출
# 데이터 출력(filter() 함수 사용)
filter(mc, mpg >= 20 & gear == 3)
# 2) mtcars 데이터에서 hp(마력) 순위를 저장하는 hp_rank열 추가 후
# hp_rank열 기준으로 오름차순 정렬( %>%  연산자 사용)
mutate(mc, hp_rank = rank(hp)) %>% arrange(hp_rank)
# 3) mtcars데이터에서 hp열의 평균과 mpg의 중앙값 확인
# (summarise() 사용)
summarise(mc, hp_mean = mean(hp), mpg_median = median(hp))
# stringr 패키지
install.packages('stringr') # 패키지 설치
library(stringr)
# 1) str_count()
str_count("aabbcc", 'a')
# 문자열 벡터로 사용 가능
str_v <- c("apple", 'banana', 'melon')
str_V
str_v
str_count(str_v, 'a')
# 2) str_c() : 여러 문자열을 하나로 연결
str_c("cute", 'dog')
v <- c('one', 'two', 'three')
str_c('Vector', v)
str_c(v, 1 : 3)
# str_c 옵션
str_c('a', 'b', 'c')
# str_c 옵션
str_c('a', 'b', 'c', sep = ',')
# str_c 옵션
str_c('a', 'b', 'c', sep = ' 1: 3')
str_c(v, collapse = ',')
# 3) str_dup() : 문자열 반복
str_dup('dog', 2)
str_dup('dog', 'cat', 2, 3)
str_dup('dog', 'cat', 2)
# 4) str_length() : 문자열의 길이
str_length("dog")
# 4) str_length() : 문자열의 길이
str_length("python")
v
str_length(v)
# 패키지 설치 및 로드
install.packages('reshape2')
library(reshape2)
# 데이터 생성
stu.df <- data.frame(
name = c('짱구', '철수', '유리'),
gender = c('남', '남', '여'),
kor = c(70, 90, 100),
math = c(50, 100, 80),
eng = c(65, 85, 70)
)
stu.df
melt_test <- melt(stu.df, id.vars = name, measures.vars = c('kor', 'math'))
melt_test <- melt(stu.df, id.vars = 'name', measures.vars = c('kor', 'math'))
melt_Test
melt_test
melt_test <- melt(stu.df)
# 2) dcast(데이터, 기준열 ~ 변환열)
dc_test <- dcast(melt_test, name ~ variable)
dc_test
# 기준열을 여러개로 사용할 때
dc_test <- dcast(melt_test, name + gender ~ variable)
dc_test
# 학생들의 이름을 기준으로 성별마다 각각 과목 점수 확인
ac_test <- acast(melt_test, name ~ gender ~ variable)
ac_test
# +) cast() 함수 활용
# : 데이터 통계 정보 요약
melt_test
# 1) 성별을 기준으로 과목당 합계 점수 확인(dcast)
dcast(melt_test, gender ~ variable)
# 1) 성별을 기준으로 과목당 합계 점수 확인(dcast)
dcast(melt_test, gender ~ variable, sum)
# 2) 성별을 기준으로 과목당 평균 점수 확인(acast)
acast(melt_test, gender ~ variable, mean)
# ggplot2 패키지 설치 및 로드
install.packages('ggplot')
# ggplot2 패키지 설치 및 로드
install.packages('ggplot2')
library(ggplot2)
# R의 내장 데이터셋 불러오기(airquality)
airquality
# R의 내장 데이터셋 불러오기(airquality)
data <- airquality
# R의 내장 데이터셋 불러오기(airquality)
data <- airquality
View(data)
# 기본 틀 생성
str(data)
ggplot(data, aes(x = Day, y = Temp))
ggplot(data, aes(x = Day, y = Temp)) + geom_point()
ggplot(data, aes(x = Day, y = Temp)) + geom_point(size = 3) # 산점도 그래프
ggplot(data, aes(x = Day, y = Temp)) + geom_point(size = 3, color = 'b') # 산점도 그래프
ggplot(data, aes(x = Day, y = Temp)) + geom_point(size = 3, color = 'blue') # 산점도 그래프
ggplot(data, aes(x = Day, y = Temp)) + geom_point(size = 3, color = 'darkgreen') # 산점도 그래프
ggplot(data, aes(x = Day, y = Temp)) + geom_point(size = 3, color = 'darkgreen')+ # 산점도 그래프
labs(x = '일자', y = '온도', title = '산점도 그래프') # 그래프의 속성 설정(그래프 제목, 축 제목, ...)
# 월별 일자와 온도의 산점도 그래프
ggplot(data, aes(x = Day, y = Temp, group = Month, colour = factor(Month))) +
geom_point()
# 월별 일자와 온도의 산점도 그래프
ggplot(data, aes(x = Day, y = Temp, group = Month, colour = factor(Month))) %>%
geom_point()
# 월별 일자와 온도의 산점도 그래프
ggplot(data, aes(x = Day, y = Temp, group = Month, colour = factor(Month))) +
geom_point()
# 월별 일자와 온도의 산점도 그래프
ggplot(data, aes(x = Day, y = Temp, group = Month, colour = factor(Month))) +
geom_point() + labs(colour = "Month")
# +) 변수들 간의 상관관계를 대략적으로 확인
pairs(data)
# 꺾은선 그래프 : geom_line()
ggplot(data, aes(x = Day, y = Temp))
# 꺾은선 그래프 : geom_line()
ggplot(data, aes(x = Day, y = Temp)) + geom_line()
# 월별로 꺾은선 그래프 시각화
ggplot(data, aes(x = Day, y = Temp, group = Month, colour = factor(Month))) +
geom_line() + labs(colour = "Month")
# 막대 그래프
mtcars
# 막대 그래프
mc <- mtcars
# 1) 실린더(cyl) 종류 별 빈도수 확인
ggplot(mc, aes(x = cyl))
# 1) 실린더(cyl) 종류 별 빈도수 확인
ggplot(mc, aes(x = cyl)) + geom_bar()
# 1) 실린더(cyl) 종류 별 빈도수 확인
ggplot(mc, aes(x = cyl)) + geom_bar(width = 0.5)
# 2) x축에 값이 없는 5와 7 삭제
ggplot(mc, aes(x = factor(cyl))) + geom_bar()
# 2) x축에 값이 없는 5와 7 삭제
ggplot(mc, aes(x = factor(cyl))) + geom_bar(width = 0.1)
# 2) x축에 값이 없는 5와 7 삭제
# cyl열 데이터를 범주형 데이터 구조로 변환 : factor()
ggplot(mc, aes(x = factor(cyl))) + geom_bar(width = 0.1, fill = 'blue', 'red', 'green')
# 2) x축에 값이 없는 5와 7 삭제
# cyl열 데이터를 범주형 데이터 구조로 변환 : factor()
ggplot(mc, aes(x = factor(cyl))) + geom_bar(width = 0.1, fill = c('blue', 'red', 'green'))
# <막대별 색상 구별 및 범례 설정>
ggplot(mc, aes(x = factor(cyl), fill = factor(cyl))) + geom_bar(width = 0.3)
# <막대별 색상 구별 및 범례 설정>
ggplot(mc, aes(x = factor(cyl), fill = factor(cyl))) + geom_bar(width = 0.3) +
labs(title = 'cyl')
# <막대별 색상 구별 및 범례 설정>
ggplot(mc, aes(x = factor(cyl), fill = factor(cyl))) + geom_bar(width = 0.3) +
labs(fill = 'cyl')
# 월별로 꺾은선 그래프 시각화
ggplot(data, aes(x = Day, y = Temp, group = Month, colour = factor(Month))) +
geom_line() + labs(colour = "Month")
# +) 누적 막대 그래프
# 실린더 종류별 빈도를 파악하면서 실린더 종류별 gear의 빈도까지 파악
ggplot(mc, aes(x = factor(cyl))) + geom_bar(aes(fill = factor(gear)))
ggplot(mc, aes(x = factor(cyl))) + geom_bar(aes(fill = factor(gear))) +
coord_polar()
# 도넛형 선버스트 차트
ggplot(mc, aes(x = factor(cyl))) + geom_bar(aes(fill = factor(gear))) +
coord_polar(theta = 'y')
ggplot(data, aes(x = Month, y = Temp, group = Month)) + geom_boxplot()
# 히스토그램 그래프
# airquality 데이터 셋에서 Temp(온도)의 분포를 나타내는 히스토그램 그래프
ggplot(data, aes(x = Temp)) + geom_histogram()
# 히스토그램 그래프
# airquality 데이터 셋에서 Temp(온도)의 분포를 나타내는 히스토그램 그래프
ggplot(data, aes(x = Temp)) + geom_histogram(color = 'black')
# 히스토그램 그래프
# airquality 데이터 셋에서 Temp(온도)의 분포를 나타내는 히스토그램 그래프
ggplot(data, aes(x = Temp)) + geom_histogram(binwidth = 0.5)
# 일자별 기온을 나타내는 산점도 + 꺾은선 그래프
ggplot(data, aes(x = Day, y = Temp)) + geom_line(color = 'red') # 꺾은선 그래프
# 일자별 기온을 나타내는 산점도 + 꺾은선 그래프
ggplot(data, aes(x = Day, y = Temp)) + geom_line(color = 'red') + # 꺾은선 그래프
geom_point(size = 3)
# +) 그래프 영역 여러개 생성
# gridExtra 패키지 사용
install.packages('gridExtra')
library(gridExtra)
g1 <- ggplot(data, aes(x = Day, y = Temp)) + geom_point()
g1
g2 <- ggplot(data, aes(x = Day, y = Temp)) + geom_line()
grid.arrange(g1, g2, ncol = 2)
grid.arrange(g1, g2, nrow = 2)
diamonds
dia <- diamonds
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = cut)) + geom_bar()
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = cut, group = factor(cut))) + geom_bar()
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = factor(cut)) + geom_bar(fill = c('purple', 'darkblue', 'darkgreen', 'green', 'yellow'))
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = factor(cut)) + geom_bar(fill = c('purple', 'darkblue', 'darkgreen', 'green', 'yellow'))
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = factor(cut)) + geom_bar(fill = aes(c('purple', 'darkblue', 'darkgreen', 'green', 'yellow')))
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = factor(cut)) + geom_bar(aes(fill = c('purple', 'darkblue', 'darkgreen', 'green', 'yellow')))
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = factor(cut)) + geom_bar(aes(fill = c('purple', 'darkblue', 'darkgreen', 'green', 'yellow')))
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = factor(cut)) + geom_bar(fill = c('purple', 'darkblue', 'darkgreen', 'green', 'yellow'))
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = factor(cut))) + geom_bar(fill = c('purple', 'darkblue', 'darkgreen', 'green', 'yellow'))
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = factor(cut))) + geom_bar(width = 0.3, fill = c('purple', 'darkblue', 'darkgreen', 'green', 'yellow'))
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = factor(cut))) +
geom_bar(width = 0.5, fill = c('purple', 'darkblue', 'darkgreen', 'green', 'yellow')) +
labs(fill = 'cut')
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = factor(cut), fill = factor(cut))) +
geom_bar(width = 0.5, fill = c('purple', 'darkblue', 'darkgreen', 'green', 'yellow')) +
labs(fill = 'cut')
# 2) carat과 price에 따른 산점도 그래프 시각화
ggplot(dia, aes(x = carat, y = price)) + geom_point()
# 2) carat과 price에 따른 산점도 그래프 시각화
ggplot(dia, aes(x = carat, y = price)) + geom_point()
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = factor(cut), fill = factor(cut))) +
geom_bar(width = 0.5, fill = c('purple', 'darkblue', 'darkgreen', 'green', 'yellow')) +
labs(fill = 'cut')
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = cut, fill = factor(cut))) +
geom_bar(width = 0.5, fill = c('purple', 'darkblue', 'darkgreen', 'green', 'yellow')) +
labs(fill = 'cut')
geom_bar(width = 0.5, fill = c('purple', 'darkblue', 'darkgreen', 'green', 'yellow')) +
labs(fill = 'cut')
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = cut), fill = factor(cut)) +
geom_bar(width = 0.5, fill = c('purple', 'darkblue', 'darkgreen', 'green', 'yellow')) +
labs(fill = 'cut')
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = factor(cut)), fill = factor(cut)) +
geom_bar(width = 0.5, fill = c('purple', 'darkblue', 'darkgreen', 'green', 'yellow')) +
labs(fill = 'cut')
View(dia)
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = factor(cut)), fill = factor(cut)) +
geom_bar(width = 0.5, fill = c('purple', 'darkblue', 'darkgreen', 'green', 'yellow'))
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = factor(cut)), fill = factor(cut)) +
geom_bar(width = 0.5, fill = c('purple', 'darkblue', 'darkgreen', 'green', 'yellow')) +
labs(fill = 'cut')
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = factor(cut)), fill = cut) +
geom_bar(width = 0.5, fill = c('purple', 'darkblue', 'darkgreen', 'green', 'yellow')) +
labs(fill = 'cut')
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = factor(cut), fill = factor(cut))) +
geom_bar(width = 0.5, fill = c('purple', 'darkblue', 'darkgreen', 'green', 'yellow')) +
labs(fill = 'cut')
# 1) cut 등급별 막대그래프 시각화
ggplot(dia, aes(x = factor(cut), fill = factor(cut))) +
geom_bar(width = 0.5) +
labs(fill = 'cut')
# 2) carat과 price에 따른 산점도 그래프 시각화
ggplot(dia, aes(x = carat, y = price)) + geom_point()
# 2) carat과 price에 따른 산점도 그래프 시각화
ggplot(dia, aes(x = carat, y = price)) + geom_point(title = 'carat과 price의 산점도')
# 2) carat과 price에 따른 산점도 그래프 시각화
ggplot(dia, aes(x = carat, y = price)) + geom_point() + labs(title = 'carat과 price의 산점도')
grid.arrange(d1, d2, ncol = 2)
# 1) cut 등급별 막대그래프 시각화
d1 <- ggplot(dia, aes(x = factor(cut), fill = factor(cut))) +
geom_bar(width = 0.5) +
labs(fill = 'cut')
# 2) carat과 price에 따른 산점도 그래프 시각화
d2 <- ggplot(dia, aes(x = carat, y = price)) + geom_point() + labs(title = 'carat과 price의 산점도')
grid.arrange(d1, d2, ncol = 2)
# 1) cut 등급별 막대그래프 시각화
d1 <- ggplot(dia, aes(x = factor(cut), fill = factor(cut))) +
geom_bar(width = 0.5) +
labs(x = 'cut등급',
y = '개수',
title = 'cut등급별 보석 개수',
fill = 'cut')
# 2) carat과 price에 따른 산점도 그래프 시각화
d2 <- ggplot(dia, aes(x = carat, y = price, group = cut())) + geom_point() + labs(title = 'carat과 price의 산점도')
+ geom_point() + labs(title = 'carat과 price의 산점도')
d2
+ geom_point() + labs(title = 'carat과 price의 산점도')
# 2) carat과 price에 따른 산점도 그래프 시각화
d2 <- ggplot(dia, aes(x = carat, y = price, group = cut, colour = factor(cut))) +
geom_point() + labs(title = 'carat과 price의 산점도', colour = 'cut')
d2
grid.arrange(d1, d2, ncol = 2)
economics
eco <- economics
ggplot(eco, aes(x = date, y = psavert)) + geom_line()
# (1) 날짜와 저축률이 상관관계가 있는지 확인
# => 두 변수 간의 상관관계 확인
# : cor.test()
cor.test(eco$date, eco$psavert)
# 날짜 -> numeric
numeric_date <- as.numeric(eco$date)
# 수치화된 날짜와 저축률의 상관관계 확인
cor.test(numeric_date, eco$psavert)
# (2) 절편과 기울기 계산 : lm(종속변수(y) ~ 독립변수(x))
rg_result <- lm(eco$psavert ~ numerice_date)
rg_result
# (2) 절편과 기울기 계산 : lm(종속변수(y) ~ 독립변수(x))
rg_result <- lm(eco$psavert ~ numeric_date)
rg_result
# 절편과 기울기 추출
rg_coef <- coef(rg_result)
rg_coef
inter <- rg_coef[1] # 절편
sl <- rg_coef[2] # 기울기
# 3) 절편과 기울기를 활용하여 꺾은선 그래프에 사선 추가
ggplot(eco, aes(x = date, y = psavert)) + geom_line() + geom_abline(inter, sl)
# 3) 절편과 기울기를 활용하여 꺾은선 그래프에 사선 추가
ggplot(eco, aes(x = date, y = psavert)) + geom_line() +
geom_abline(intercept = inter, slope = sl)
# 3) 절편과 기울기를 활용하여 꺾은선 그래프에 사선 추가
ggplot(eco, aes(x = date, y = psavert)) + geom_line() +
geom_abline(intercept = inter, slope = sl, color = 'red')
# 3) 절편과 기울기를 활용하여 꺾은선 그래프에 사선 추가
ggplot(eco, aes(x = date, y = psavert)) + geom_line() +
geom_abline(intercept = inter, slope = sl, color = 'red', width = 1.5)
# 2) 평행선 그리기
# 개인 저축률 꺾은선 그래프에 평균값을 표시하는 평행선 추가
ggplot(eco, aes(x = date, y = psavert)) += geom_line() + geom_hline(yintercept = inter)
# 2) 평행선 그리기
# 개인 저축률 꺾은선 그래프에 평균값을 표시하는 평행선 추가
ggplot(eco, aes(x = date, y = psavert)) + geom_line() + geom_hline(yintercept = inter)
# 2) 평행선 그리기
# 개인 저축률 꺾은선 그래프에 평균값을 표시하는 평행선 추가
ggplot(eco, aes(x = date, y = psavert)) + geom_line() + geom_hline(yintercept = mean(eco$psavert))
# dplyr 패키지 로드
library(dplyr)
# filter() 함수를 사용하여 조건에 맞는 데이터 가져오기
# filter(데이터셋, 조건) : 조건에 맞는 행 추출
x_inter <- filter(eco, psavert == min(eco$psavert))
# 날짜만 추출
x_inter <- x_inter$date
# 2) 그래프에 날짜에 따른 수직선 추가
ggplot(eco, aes(x = date, y = psavert)) + geom_line() + geom_vline(xintercept = x_inter)
